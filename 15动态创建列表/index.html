<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>动态创建列表</title>
    <style>
        .hb {
            width: 175px;
        }

        .bb {
            width: 175px;
        }

        .bb ul {
            list-style: none;
            padding-left: 5px;
            background-color: lightgray;
            margin-top: 0;
        }
    </style>
</head>

<body>
    <div class="hb">
        <input type="text" id="txt">
    </div>
    <div class="bb" id="bb">
    </div>

    <script>
        var arr = ['哈哈', '呵呵', '嘻嘻','ab','an','cc'];
        var txt = document.getElementById('txt');

        txt.onkeypress = key;

        function sea(v) {
            var arrS = [];

            for(var i=0;i<arr.length;i++) {
                if(arr[i].indexOf(v) >= 0) {
                    arrS.push(arr[i]);
                }
            }
            console.log(v);
            console.log(arrS);

            return arrS;
        }

        txt.onfocus = function () {
            var val = this.value;

            if (val) {
                var bb = document.getElementById('bb');

                var oldul = bb.getElementsByTagName('ul')[0];

                if (oldul) {
                    bb.removeChild(oldul);
                }

                var ul = document.createElement('ul');
                bb.appendChild(ul);

                var ar = sea(val)

                for (var i = 0; i < ar.length; i++) {
                    var li = document.createElement('li');
                    li.innerText = ar[i];
                    ul.appendChild(li);
                }
            }
        }

        txt.onblur = function () {
            var bb = document.getElementById('bb');

            var oldul = bb.getElementsByTagName('ul')[0];

            if (oldul) {
                bb.removeChild(oldul);
            }
        }

        function key(e) {
            var c = e.keyCode;
            var v2 = String.fromCharCode(c);
            var val = this.value + v2;
            var bb = document.getElementById('bb');

            var oldul = bb.getElementsByTagName('ul')[0];

            if (oldul) {
                bb.removeChild(oldul);
            }

            var ul = document.createElement('ul');
            bb.appendChild(ul);

            var ar = sea(val);

            for (var i = 0; i < ar.length; i++) {
                var li = document.createElement('li');
                li.innerText = ar[i];
                ul.appendChild(li);
            }
        }
    </script>
</body>

</html>